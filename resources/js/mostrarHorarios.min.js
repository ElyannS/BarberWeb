$(document).ready(function(){"/BarberWeb/admin/agenda-cliente"===window.location.pathname&&($("#mostrarHorarios").on("click",function(){var a,e=$("#dataCliente").val(),r=$("#servicoCliente").val();"sel"===r?($(".alertaAviso").empty(),$(".alertaAviso").append("<p>Selecione um serviço!</p>"),$(".alertaAviso").addClass("mostrar"),setTimeout(function(){$(".alertaAviso").removeClass("mostrar"),$(".alertaAviso").empty()},5e3)):(r=r.split(";"),a=r[0],r=r[1],$.ajax({url:"/BarberWeb/admin/mostrar_horarios",type:"POST",data:{data:e,tempoServico:a,idServico:r},dataType:"json",success:function(a){a=a.horarios;$(".itensHorarios").empty(),$.each(a,function(e,r){var a=`
                            <div class="item">
                                <div class="nomeBarbeiro">
                                    <img src="http://localhost/BarberWeb/${r.foto_usuario}">
                                    <p>${e}</p>
                                </div>
                                <div class="horariosBarbeiros" id="pegaDados">
                                    ${r.horarios.map(a=>`<span class="span" value="${e},${r.idBarbeiro},${r.idServico},${r.data},${r.nomeServico},${a}">${a}</span>`).join("")}
                                </div>
                            </div>
                        `;$(".itensHorarios").append(a)})},error:function(a,e,r){if(a.responseText)try{var o=JSON.parse(a.responseText);o.hasOwnProperty("error")?alert("Erro: "+o.error):alert("Ocorreu um erro na requisição.")}catch(a){alert("Ocorreu um erro na requisição: "+r)}else alert("Ocorreu um erro na requisição: "+r)}}))}),$(document).on("click","#pegaDados span",function(){var a=$(this).attr("value"),[a,,,e,r,o]=($(".clienteAgenda").css("position","fixed"),$("body.admin .index").toggleClass("activeAgenda"),a.split(","));$("#nomeBarber").val(a),$("#nomeSevico").val(r),$("#dataAgen").val(e),$("#horarioAgen").val(o)}),$(".closeAgenda").on("click",function(){$("body.admin .index").toggleClass("activeAgenda"),$(".agenda").css("position","initial")}))});